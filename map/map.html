<!DOCTYPE html>
<html>
<head>
   <title>Map-Leaflet</title>
   <meta charset="utf-8" />
   <meta name="viewport" content="width=device-width, initial-scale=1.0">
   <link rel="" type="image/x-icon" href="" />
   <link rel="stylesheet" href="https://unpkg.com/leaflet@1.5.1/dist/leaflet.css"
      integrity="sha512-xwE/Az9zrjBIphAcBb3F6JVqxf46+CDLwfLMHloNu6KEQCAWi6HcDUbeOfBIptF7tcCzusKFjFw2yuvEpDL9wQ=="
      crossorigin="" />
   <script src="https://unpkg.com/leaflet@1.5.1/dist/leaflet.js"
      integrity="sha512-GffPMF3RvMeYyc1LWMHtK8EbPv0iNZ8/oTtHPx9/cc2ILxQ+u905qIwdpULaqDkyBKgOaB57QTMg7ztg8Jm2Og=="
      crossorigin=""></script>

   <style>
      html,body {
         height: 100%;
         margin: 0;
      }
      body {
         padding: 0;
         margin: 0;
      }
      #map {
         width: 600px;
         height: 400px;
      }
      #map {
         height: 100%;
         width: 100vw;
      }
   </style>
</head>

<body>
   <div id='map'></div>
   
   <script>
      // the ArrayList passed by the app will be kept/passed as a long String, so split the String by comma.
      function loadMap(latitude, longitude, placeName) {
         let lat = new Array();
         let longi = new Array();
         let name = new Array();

         // remove the brackets 1st, then split the String
         lat = latitude.replace(/[\[\]]+/g, '').split(",");
         longi = longitude.replace(/[\[\]]+/g, '').split(",");
         name = placeName.replace(/[\[\]]+/g, '').split(",");
         let arraySize = name.length;

         //document.getElementById('map').innerHTML = lat[1];
          
         var map = L.map('map').fitWorld().setView([lat[0], longi[0]], 11);
         L.tileLayer('https://api.tiles.mapbox.com/v4/{id}/{z}/{x}/{y}.png?access_token=pk.eyJ1IjoibWFwYm94IiwiYSI6ImNpejY4NXVycTA2emYycXBndHRqcmZ3N3gifQ.rJcFIG214AriISLbB6B5aw', {
            maxZoom: 16,
            id: 'mapbox.streets'
         }).addTo(map);

         //map.locate({ setView: true, maxZoom: 16 });
         
         // for each Item, place a Marker on the Map
         for(let i = 0; i < arraySize; i++) {
            var marker = L.marker([lat[i], longi[i]]).addTo(map);
            marker.bindPopup("" + name[i]);//.openPopup(); 
         }    
      }   

      /* function onLocationFound(e) {
         var radius = e.accuracy / 2;

         L.marker(e.latlng).addTo(map)
            .bindPopup("You are within " + radius + " meters from this point").openPopup();

         L.circle(e.latlng, radius).addTo(map);
      }

      function onLocationError(e) {
         alert(e.message);
      }

      map.on('locationfound', onLocationFound);
      map.on('locationerror', onLocationError);

      map.locate({ setView: true, maxZoom: 16 }); */
   </script>
</body>
</html>